{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\minhn\\\\my-app\\\\webminhnhat\\\\src\\\\public\\\\register.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { supabase } from \"../supabasePrivate\";\nimport { Function } from \"../config/function\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Register = () => {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const handleRegister = async () => {\n    if (!username.trim() || !password.trim()) {\n      Function.makeToast(\"Vui lòng nhập đầy đủ tên đăng nhập và mật khẩu!\", \"warning\");\n      return;\n    } else {\n      if (!Function.vaildUsername(username)) {\n        Function.makeToast(\"Tên đăng nhập phải bắt đầu bằng chữ, dài 4–20 ký tự!\", \"warning\");\n        return;\n      }\n      if (!Function.vaildPassword(password)) {\n        Function.makeToast(\"Mật khẩu phải có ít nhất 6 ký tự, gồm 1 chữ hoa và 1 số!\", \"warning\");\n        return;\n      }\n      const {\n        data,\n        error\n      } = await supabase.from(\"user\").select(\"*\").eq(\"username\", username).single();\n      if (data != null) {\n        Function.showMessage(\"Lỗi\", \"Tên đăng nhập đã tồn tại trên hệ thống\", \"error\");\n        return;\n      } else {\n        const {\n          data,\n          error\n        } = await supabase.from('user').insert({\n          username: username,\n          password: Function.stringToMD5(password),\n          creative_day: Function.getDay(),\n          level: '0'\n        });\n        if (error) {\n          Function.showMessage(\"Đăng ký thất bại!\", error.message, \"error\");\n          return;\n        } else {\n          const {\n            data,\n            error\n          } = await supabase.from(\"user\").select(\"*\").eq(\"username\", username).eq(\"password\", Function.stringToMD5(password)).single(); // chỉ lấy 1 user khớp\n\n          if (error) {\n            console.error(\"Lỗi đăng nhập:\", error.message);\n            Function.showMessage(\"Đăng ký thất bại!\", error.message, \"error\");\n            return;\n          }\n          Function.showMessage(\"Thành công\", \"Đăng ký thành công\", \"success\");\n          localStorage.setItem(\"user\", JSON.stringify(data));\n          window.location.href = \"/\";\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: \"\\n          body, html {\\n            margin: 0;\\n            padding: 0;\\n            font-family: \\\"Segoe UI\\\", Arial, sans-serif;\\n          }\\n\\n          .login-container {\\n            padding-top: 25px;\\n            display: flex;\\n            justify-content: center;\\n            align-items: center;\\n          }\\n\\n          .login-box {\\n            background: #fff;\\n            border-radius: 12px;\\n            padding: 40px 35px;\\n            width: 340px;\\n            box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);\\n            text-align: center;\\n          }\\n\\n          .login-box h3 {\\n            font-size: 15px;\\n            color: #333;\\n            margin-bottom: 25px;\\n            letter-spacing: 0.5px;\\n          }\\n\\n          .login-box input[type=\\\"text\\\"],\\n          .login-box input[type=\\\"password\\\"] {\\n            width: 100%;\\n            padding: 10px 12px;\\n            border: 1px solid #ccc;\\n            border-radius: 6px;\\n            margin-bottom: 15px;\\n            font-size: 14px;\\n            outline: none;\\n            transition: border 0.2s ease;\\n          }\\n\\n          .login-box input[type=\\\"text\\\"]:focus,\\n          .login-box input[type=\\\"password\\\"]:focus {\\n            border-color: #0073e6;\\n          }\\n\\n          .login-box label {\\n            display: flex;\\n            align-items: center;\\n            gap: 6px;\\n            font-size: 13px;\\n            color: #444;\\n            margin-bottom: 20px;\\n          }\\n\\n          .login-box button {\\n            width: 100%;\\n            background-color: #ff6600;\\n            color: white;\\n            border: none;\\n            padding: 12px;\\n            border-radius: 6px;\\n            font-size: 15px;\\n            font-weight: bold;\\n            cursor: pointer;\\n            transition: background-color 0.25s;\\n          }\\n\\n          .login-box button:hover {\\n            background-color: #e65c00;\\n          }\\n        \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0110\\u0102NG K\\xCD T\\xC0I KHO\\u1EA2N\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          placeholder: \"Nh\\u1EADp t\\xEAn \\u0111\\u0103ng nh\\u1EADp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          placeholder: \"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"\\u0110\\xE3 c\\xF3 t\\xE0i kho\\u1EA3n? \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"./login\",\n            children: \"\\u0110\\u0103ng nh\\u1EADp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRegister,\n          children: \"\\u0110\\u0102NG K\\xCD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(Register, \"Lrw7JeD9zj6OUWhT/IH4OIvPKEk=\");\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","supabase","Function","jsxDEV","_jsxDEV","Register","_s","username","setUsername","password","setPassword","handleRegister","trim","makeToast","vaildUsername","vaildPassword","data","error","from","select","eq","single","showMessage","insert","stringToMD5","creative_day","getDay","level","message","console","localStorage","setItem","JSON","stringify","window","location","href","children","fileName","_jsxFileName","lineNumber","columnNumber","className","type","value","onChange","e","target","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/Users/minhn/my-app/webminhnhat/src/public/register.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { supabase } from \"../supabasePrivate\";\r\nimport { Function } from \"../config/function\";\r\nconst Register = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleRegister = async () => {\r\n    if (!username.trim() || !password.trim()) {\r\n      Function.makeToast(\"Vui lòng nhập đầy đủ tên đăng nhập và mật khẩu!\", \"warning\");\r\n      return;\r\n    } else {\r\n      if (!Function.vaildUsername(username)) {\r\n        Function.makeToast(\"Tên đăng nhập phải bắt đầu bằng chữ, dài 4–20 ký tự!\", \"warning\");\r\n        return;\r\n      }\r\n      if (!Function.vaildPassword(password)) {\r\n        Function.makeToast(\"Mật khẩu phải có ít nhất 6 ký tự, gồm 1 chữ hoa và 1 số!\", \"warning\");\r\n        return;\r\n      }\r\n      const { data, error } = await supabase\r\n        .from(\"user\")\r\n        .select(\"*\")\r\n        .eq(\"username\", username)\r\n        .single();\r\n      if (data != null) {\r\n        Function.showMessage(\"Lỗi\", \"Tên đăng nhập đã tồn tại trên hệ thống\", \"error\");\r\n\r\n        return;\r\n      } else {\r\n        const { data, error } = await supabase\r\n          .from('user')\r\n          .insert({ username: username, password: Function.stringToMD5(password), creative_day: Function.getDay(), level: '0' })\r\n        if (error) {\r\n          Function.showMessage(\"Đăng ký thất bại!\", error.message, \"error\");\r\n          return;\r\n        } else {\r\n\r\n          const { data, error } = await supabase\r\n            .from(\"user\")\r\n            .select(\"*\")\r\n            .eq(\"username\", username)\r\n            .eq(\"password\", Function.stringToMD5(password))\r\n            .single(); // chỉ lấy 1 user khớp\r\n\r\n          if (error) {\r\n            console.error(\"Lỗi đăng nhập:\", error.message);\r\n            Function.showMessage(\"Đăng ký thất bại!\", error.message, \"error\");\r\n\r\n            return;\r\n          }\r\n\r\n          Function.showMessage(\"Thành công\", \"Đăng ký thành công\", \"success\");\r\n          localStorage.setItem(\"user\", JSON.stringify(data));\r\n          window.location.href = \"/\";\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <style>\r\n        {`\r\n          body, html {\r\n            margin: 0;\r\n            padding: 0;\r\n            font-family: \"Segoe UI\", Arial, sans-serif;\r\n          }\r\n\r\n          .login-container {\r\n            padding-top: 25px;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n          }\r\n\r\n          .login-box {\r\n            background: #fff;\r\n            border-radius: 12px;\r\n            padding: 40px 35px;\r\n            width: 340px;\r\n            box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);\r\n            text-align: center;\r\n          }\r\n\r\n          .login-box h3 {\r\n            font-size: 15px;\r\n            color: #333;\r\n            margin-bottom: 25px;\r\n            letter-spacing: 0.5px;\r\n          }\r\n\r\n          .login-box input[type=\"text\"],\r\n          .login-box input[type=\"password\"] {\r\n            width: 100%;\r\n            padding: 10px 12px;\r\n            border: 1px solid #ccc;\r\n            border-radius: 6px;\r\n            margin-bottom: 15px;\r\n            font-size: 14px;\r\n            outline: none;\r\n            transition: border 0.2s ease;\r\n          }\r\n\r\n          .login-box input[type=\"text\"]:focus,\r\n          .login-box input[type=\"password\"]:focus {\r\n            border-color: #0073e6;\r\n          }\r\n\r\n          .login-box label {\r\n            display: flex;\r\n            align-items: center;\r\n            gap: 6px;\r\n            font-size: 13px;\r\n            color: #444;\r\n            margin-bottom: 20px;\r\n          }\r\n\r\n          .login-box button {\r\n            width: 100%;\r\n            background-color: #ff6600;\r\n            color: white;\r\n            border: none;\r\n            padding: 12px;\r\n            border-radius: 6px;\r\n            font-size: 15px;\r\n            font-weight: bold;\r\n            cursor: pointer;\r\n            transition: background-color 0.25s;\r\n          }\r\n\r\n          .login-box button:hover {\r\n            background-color: #e65c00;\r\n          }\r\n        `}\r\n      </style>\r\n\r\n      <div className=\"login-container\">\r\n        <div className=\"login-box\">\r\n          <h3>ĐĂNG KÍ TÀI KHOẢN</h3>\r\n          <input\r\n            type=\"text\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            placeholder=\"Nhập tên đăng nhập\"\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            placeholder=\"Nhập mật khẩu\"\r\n          />\r\n          <label>\r\n            Đã có tài khoản? <a href=\"./login\">Đăng nhập</a>\r\n          </label>\r\n          <button onClick={handleRegister}>ĐĂNG KÍ</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}