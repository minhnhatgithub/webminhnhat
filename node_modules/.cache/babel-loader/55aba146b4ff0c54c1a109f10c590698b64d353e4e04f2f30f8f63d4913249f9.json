{"ast":null,"code":"import CryptoJS from \"crypto-js\";\nimport Swal from \"sweetalert2\";\nconst privateKey = \"#=minhnhat206=#\"; // ko đc key này để tránh lộ data\nexport const Function = {\n  base_Url: () => \"\".concat(window.location.protocol, \"//\").concat(window.location.host, \"/\"),\n  stringToMD5: str => CryptoJS.MD5(str).toString(),\n  vaildPassword: str => {\n    if (typeof str !== \"string\") return false;\n    return /^(?=.*[A-Z])(?=.*\\d)[A-Za-z\\d@$!%*?&]{6,}$/.test(str); // Có ít nhất 6 ký tự, 1 chữ hoa, 1 số, không khoảng trắng\n  },\n  vaildUsername: str => {\n    if (typeof str !== \"string\") return false;\n    return /^[A-Za-z][A-Za-z0-9_]{3,19}$/.test(str); // 4–20 ký tự, chỉ chứa chữ, số hoặc dấu _\n  },\n  makeToast: function (msg) {\n    let icon = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"info\";\n    Swal.fire({\n      title: msg,\n      icon,\n      toast: true,\n      position: \"top-end\",\n      showCloseButton: true,\n      showConfirmButton: false,\n      timer: 2500,\n      timerProgressBar: true,\n      width: \"auto\"\n    });\n  },\n  getDay: () => {\n    const date = new Date();\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, \"0\"); // thêm số 0 nếu nhỏ hơn 10\n    const day = String(date.getDate()).padStart(2, \"0\");\n    return \"\".concat(year, \"/\").concat(month, \"/\").concat(day);\n  },\n  showMessage: function (title, msg) {\n    let icon = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"info\";\n    Swal.fire({\n      title,\n      text: msg,\n      icon,\n      confirmButtonText: \"Đóng\"\n    });\n  },\n  isLogin: () => {\n    const v = localStorage.getItem(\"user\");\n    if (!v) {\n      return false;\n    }\n    return true;\n  },\n  isAdmin: () => {\n    const v = localStorage.getItem(\"user\");\n    if (!v) {\n      return false;\n    }\n    if (JSON.parse(Encryptor.decrypt(v)).level === 1) {\n      return true;\n    }\n  },\n  getUser: str => {\n    const v = localStorage.getItem(\"user\");\n    if (!v) {\n      return \"\";\n    }\n    try {\n      const data = JSON.parse(Encryptor.decrypt(v));\n      return data[str] || \"\";\n    } catch (e) {\n      console.error(\"Lỗi khi giải mã user:\", e);\n      return \"\";\n    }\n  }\n};\nexport const Encryptor = {\n  encrypt(text) {\n    if (!text) return \"\";\n    return CryptoJS.AES.encrypt(text, privateKey).toString();\n  },\n  decrypt(cipherText) {\n    if (!cipherText) return \"\";\n    try {\n      const bytes = CryptoJS.AES.decrypt(cipherText, privateKey);\n      const decrypted = bytes.toString(CryptoJS.enc.Utf8);\n      return decrypted || null;\n    } catch (e) {\n      console.error(\"Giải mã thất bại:\", e);\n      return null;\n    }\n  }\n};","map":{"version":3,"names":["CryptoJS","Swal","privateKey","Function","base_Url","concat","window","location","protocol","host","stringToMD5","str","MD5","toString","vaildPassword","test","vaildUsername","makeToast","msg","icon","arguments","length","undefined","fire","title","toast","position","showCloseButton","showConfirmButton","timer","timerProgressBar","width","getDay","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","showMessage","text","confirmButtonText","isLogin","v","localStorage","getItem","isAdmin","JSON","parse","Encryptor","decrypt","level","getUser","data","e","console","error","encrypt","AES","cipherText","bytes","decrypted","enc","Utf8"],"sources":["C:/Users/minhnhat/Desktop/web/webminhnhat/src/config/function.js"],"sourcesContent":["import CryptoJS from \"crypto-js\";\r\nimport Swal from \"sweetalert2\";\r\nconst privateKey = \"#=minhnhat206=#\"; // ko đc key này để tránh lộ data\r\nexport const Function = {\r\n  base_Url: () => `${window.location.protocol}//${window.location.host}/`,\r\n  stringToMD5: (str) => CryptoJS.MD5(str).toString(),\r\n  vaildPassword: (str) => {\r\n    if (typeof str !== \"string\") return false;\r\n    return /^(?=.*[A-Z])(?=.*\\d)[A-Za-z\\d@$!%*?&]{6,}$/.test(str); // Có ít nhất 6 ký tự, 1 chữ hoa, 1 số, không khoảng trắng\r\n  },\r\n  vaildUsername: (str) => {\r\n    if (typeof str !== \"string\") return false;\r\n    return /^[A-Za-z][A-Za-z0-9_]{3,19}$/.test(str); // 4–20 ký tự, chỉ chứa chữ, số hoặc dấu _\r\n  },\r\n  makeToast: (msg, icon = \"info\") => {\r\n    Swal.fire({\r\n      title: msg,\r\n      icon,\r\n      toast: true,\r\n      position: \"top-end\",\r\n      showCloseButton: true,\r\n      showConfirmButton: false,\r\n      timer: 2500,\r\n      timerProgressBar: true,\r\n      width: \"auto\",\r\n    });\r\n  },\r\n\r\n  getDay: () => {\r\n    const date = new Date();\r\n    const year = date.getFullYear();\r\n    const month = String(date.getMonth() + 1).padStart(2, \"0\"); // thêm số 0 nếu nhỏ hơn 10\r\n    const day = String(date.getDate()).padStart(2, \"0\");\r\n    return `${year}/${month}/${day}`;\r\n  },\r\n  showMessage: (title, msg, icon = \"info\") => {\r\n    Swal.fire({\r\n      title,\r\n      text: msg,\r\n      icon,\r\n      confirmButtonText: \"Đóng\",\r\n    });\r\n  },\r\n\r\nisLogin: () => {\r\n  const v = localStorage.getItem(\"user\");\r\n  if (!v) {\r\n    return false;\r\n  }\r\n  return true;\r\n},\r\n  isAdmin: () => {\r\n    const v = localStorage.getItem(\"user\");\r\n    if (!v) {\r\n      return false;\r\n    }\r\n    if (JSON.parse(Encryptor.decrypt(v)).level === 1) {\r\n      return true;\r\n    }\r\n  },\r\n\r\n  getUser: (str) => {\r\n  const v = localStorage.getItem(\"user\");\r\n  if (!v) {\r\n    return \"\";\r\n  }\r\n  try {\r\n    const data = JSON.parse(Encryptor.decrypt(v));\r\n    return data[str] || \"\";\r\n  } catch (e) {\r\n    console.error(\"Lỗi khi giải mã user:\", e);\r\n    return \"\";\r\n  }\r\n},\r\n\r\n};\r\n\r\nexport const Encryptor = {\r\n  encrypt(text) {\r\n    if (!text) return \"\";\r\n    return CryptoJS.AES.encrypt(text, privateKey).toString();\r\n  },\r\n  decrypt(cipherText) {\r\n    if (!cipherText) return \"\";\r\n    try {\r\n      const bytes = CryptoJS.AES.decrypt(cipherText, privateKey);\r\n      const decrypted = bytes.toString(CryptoJS.enc.Utf8);\r\n      return decrypted || null;\r\n    } catch (e) {\r\n      console.error(\"Giải mã thất bại:\", e);\r\n      return null;\r\n    }\r\n  },\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}